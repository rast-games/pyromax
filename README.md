# "The Official Pyromax Library (available on PyPI)".

# Pyromax üöÄ

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —é–∑–µ—Ä–±–æ—Ç–æ–≤ –≤ MAX Messenger.**

![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Status](https://img.shields.io/badge/status-Alpha-orange)

`Pyromax` —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É—Å—Ç–∞–ª –æ—Ç "–ª–∞–ø—à–∏" –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ. –ú—ã –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–∑ **aiogram 3.x** –≤ –º–∏—Ä MAX: —Ä–æ—É—Ç–µ—Ä—ã, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ —É–¥–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

## üî• –ü–æ—á–µ–º—É Pyromax?

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –º—ã —Å—Ç–∞–≤–∏–º **Developer Experience (DX)** –Ω–∞ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ:

- **üì¶ –°–∏—Å—Ç–µ–º–∞ –†–æ—É—Ç–µ—Ä–æ–≤ (Routers):** –†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ—Ç–∞ –Ω–∞ —Ñ–∞–π–ª—ã –∏ –ø–ª–∞–≥–∏–Ω—ã. –ù–∏–∫–∞–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ 2000 —Å—Ç—Ä–æ–∫.
- **‚ö° –°–∫–æ—Ä–æ—Å—Ç—å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —è–¥—Ä–æ –Ω–∞ `aiohttp` –∏ `websockets`.
- **clean_code:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `aiogram`. –ï—Å–ª–∏ –≤—ã –ø–∏—Å–∞–ª–∏ –±–æ—Ç–æ–≤ –¥–ª—è Telegram, –≤—ã –±—É–¥–µ—Ç–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –∫–∞–∫ –¥–æ–º–∞.
- **üõ† –ì–∏–±–∫–æ—Å—Ç—å:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Dispatcher –∏ Observer –ø–∞—Ç—Ç–µ—Ä–Ω.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è `uv`.

### –ß–µ—Ä–µ–∑ pip
```bash
pip install pyromax
```


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
### –ü—Ä–æ—Å—Ç–æ–π —ç—Ö–æ-–±–æ—Ç:

```python
import asyncio
import logging
import os
from pyromax.api import MaxApi
from pyromax.api.observer import Dispatcher as MaxDispatcher
from pyromax.types import Message

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
dp = MaxDispatcher()


# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ö–µ–Ω–¥–ª–µ—Ä–∞ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è —Å–≤–æ–∏)
@dp.message(pattern=lambda update: True, from_me=True)
async def echo_handler(update: Message, max_api: MaxApi):
    # –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–µ–º –∂–µ —Ç–µ–∫—Å—Ç–æ–º –∏ –≤–ª–æ–∂–µ–Ω–∏—è–º–∏
    await update.reply(text=update.text, attaches=update.attaches)


async def url_callback_for_login_url(url: str):
    """
    –û—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω(—Ç.–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è token)
     –∏ –≤ –Ω–µ–≥–æ –ø–æ–ø–∞–¥–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞
     """
    print(f'–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Max —Å –ø–æ–º–æ—â—å—é —Å—Å—ã–ª–∫–∏: {url}')


async def main():
    logging.basicConfig(level=logging.INFO)

    # –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    token = os.getenv('MaxApiToken')

    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä API
    bot = await MaxApi(url_callback_for_login_url, token=token)

    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞ —Å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
    await bot.reload_if_connection_broke(dp)


if __name__ == "__main__":
    asyncio.run(main())
```

## üß© –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –†–æ—É—Ç–µ—Ä—ã (Killer Feature)
### 1. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, handlers/admin.py)

```python
from pyromax.api import MaxApi
from pyromax.api.observer import Router
from pyromax.types import Message

# –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
router = Router()


# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ö–µ–Ω–¥–ª–µ—Ä –≤ —Ä–æ—É—Ç–µ—Ä
@router.message(pattern=lambda update: update.text == '!ping', from_me=True)
async def ping_handler(update: Message, max_api: MaxApi):
    await update.reply("Pong! üèì")
```
### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ (main.py)

```python
from pyromax.api.observer import Dispatcher as MaxDispatcher
from handlers.admin import router as admin_router

dp = MaxDispatcher()

# –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç–µ—Ä –∫ –≥–ª–∞–≤–Ω–æ–º—É –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
dp.include_router(admin_router)
# ... –¥–∞–ª–µ–µ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ
```
### –¢–µ–ø–µ—Ä—å –≤–∞—à –∫–æ–¥ —á–∏—Å—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è!

## üó∫ Roadmap (–ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è)

–ú—ã –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–¥–µ–ª–∞—Ç—å –µ—ë —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è MAX.

### üìç –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (Alpha)
- [x] **Core:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —è–¥—Ä–æ (`MaxApi`, `Dispatcher`).
- [x] **Routers:** –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (—Ä–∞–∑–±–∏–µ–Ω–∏–µ –±–æ—Ç–∞ –Ω–∞ —Ñ–∞–π–ª—ã).
- [x] **Types:** –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (Update, Message, Attachments).
- [x] **Observer:** –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤.

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] **FSM (Finite State Machine):** –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–æ–ø—Ä–æ—Å—ã, –¥–∏–∞–ª–æ–≥–∏, —Ñ–æ—Ä–º—ã).
- [ ] **Middlewares:** –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π –¥–æ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–Ω—Ç–∏-—Ñ–ª—É–¥, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö).
- [ ] **Magic Filters:** –£–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–∫–∞–∫ `F.text.startswith("!")`).

### üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ
- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–∞–π—Ç —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.
- [ ] **–ü–ª–∞–≥–∏–Ω—ã:** –ì–æ—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Ç–æ–≤.

---

## ü§ù Contributing

–ú—ã —Ä–∞–¥—ã –ª—é–±–æ–π –ø–æ–º–æ—â–∏! –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ñ–∏—á—É –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥:
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É (`git checkout -b feature/NewFeature`).
3. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License. –°–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
